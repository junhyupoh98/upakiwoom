option_settings:
  aws:elasticbeanstalk:container:python:
    WSGIPath: application:application
  aws:elasticbeanstalk:application:environment:
    PYTHONPATH: "/var/app/current:$PYTHONPATH"

# AWS EB는 자동으로 requirements.txt를 설치하지만, 명시적으로 확인
files:
  "/opt/elasticbeanstalk/hooks/appdeploy/pre/01_verify_packages.sh":
    mode: "000755"
    owner: root
    group: root
    content: |
      #!/bin/bash
      # Verify critical packages are installed
      echo "[INFO] Checking Python packages..."
      python3 -c "import chromadb; print('[OK] chromadb installed')" || echo "[WARN] chromadb not found"
      python3 -c "import flask; print('[OK] flask installed')" || echo "[WARN] flask not found"
      echo "[INFO] Package check complete"

